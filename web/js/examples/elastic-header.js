define(["knockout","dynamics"],(function(t,s){return function(){this.dragging=t.observable(!1),this.c={x:t.observable(160),y:t.observable(160)},this.start={x:t.observable(0),y:t.observable(0)},this.headerPath=t.computed(()=>"M0,0 L320,0 320,160Q"+this.c.x()+","+this.c.y()+" 0,160"),this.contentPosition=t.computed(()=>{var t=this.c.y()-160;return{transform:"translate3d(0,"+t/(t>0?2:4)+"px,0)"}}),this.startDrag=t=>{t=t.changedTouches?t.changedTouches[0]:t,this.dragging(!0),this.start.x(t.pageX),this.start.y(t.pageY)},this.onDrag=t=>{if(t=t.changedTouches?t.changedTouches[0]:t,this.dragging()){this.c.x(t.pageX-this.start.x()+160);var s=t.pageY-this.start.y(),e=s>0?1.5:4;this.c.y(160+s/e)}},this.stopDrag=t=>{if(this.dragging()){this.dragging(!1);let t=this.c,e={get x(){return t.x()},set x(s){t.x(s)},get y(){return t.y()},set y(s){t.y(s)}};s.animate(e,{x:160,y:160},{type:s.spring,duration:700,friction:280})}}}}));