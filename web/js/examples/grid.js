define(["knockout","ojs/ojcomposite","ojs/ojknockout","ojs/ojinputtext"],(function(e,t){function r(t){this.columns=t.properties.columns,this.data=t.properties.data;var r={};this.columns.forEach((function(t){r[t]=e.observable(1)})),this.sortKey=e.observable(""),this.sortOrders=r,this.filteredData=e.computed((function(){var e=t.properties.filterKey,r=this.sortKey(),s=e&&e.toLowerCase(),o=this.sortOrders[r]&&this.sortOrders[r]()||1,i=this.data;return s&&(i=i.filter((function(e){return Object.keys(e).some((function(t){return String(e[t]).toLowerCase().indexOf(s)>-1}))}))),r&&(i=i.slice().sort((function(e,t){return((e=e[r])===(t=t[r])?0:e>t?1:-1)*o}))),i}),this),this.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},this.sortBy=e=>{this.sortKey(e),this.sortOrders[e](-1*this.sortOrders[e]())}}return function(){this.searchQuery=e.observable(""),this.gridColumns=["name","power"],this.gridData=[{name:"Chuck Norris",power:1/0},{name:"Bruce Lee",power:9e3},{name:"Jackie Chan",power:7e3},{name:"Jet Li",power:8e3}],this.connected=()=>{t.register("demo-grid",{viewModel:r,view:document.getElementById("grid-template").innerHTML,metadata:{properties:{data:{type:"array"},columns:{type:"array"},filterKey:{type:"string",writeback:!0}}}})}}}));