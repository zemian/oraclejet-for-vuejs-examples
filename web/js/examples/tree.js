define(["knockout","ojs/ojcomposite","ojs/ojknockout"],(function(e,t){function i(t){this.model=t.properties.model,this.open=e.observable(!1),this.childrenObsArray=e.observable(),this.model.children&&this.childrenObsArray(e.observableArray(this.model.children)),this.isFolder=e.computed((function(){let e=this.childrenObsArray();return e&&e().length>0}),this),this.toggle=e=>{this.isFolder()&&this.open(!this.open())},this.changeType=t=>{this.isFolder()||(this.model.children=[],this.childrenObsArray(e.observableArray(this.model.children)),this.addChild(),this.open(!0))},this.addChild=e=>{this.childrenObsArray().push({name:"new stuff"})}}return function(){this.treeData={name:"My Tree",children:[{name:"hello"},{name:"wat"},{name:"child folder",children:[{name:"child folder",children:[{name:"hello"},{name:"wat"}]},{name:"hello"},{name:"wat"},{name:"child folder",children:[{name:"hello"},{name:"wat"}]}]}]},this.connected=()=>{t.register("tree-item",{viewModel:i,view:document.getElementById("tree-item-template").innerHTML,metadata:{properties:{model:{type:"object"}}}})}}}));