define(["exports","ojs/ojdomutils","ojs/ojvcomponent","ojs/ojthemeutils"],function(t,e,o,n){"use strict";
/**
     * @license
     * Copyright (c) 2014, 2020, Oracle and/or its affiliates.
     * The Universal Permissive License (UPL), Version 1.0
     * as shown at https://oss.oracle.com/licenses/upl/
     * @ignore
     */var s,l=function(t,e,o,n){var s,l=arguments.length,i=l<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(l<3?s(i):l>3?s(e,o,i):s(e,o))||i);return l>3&&i&&Object.defineProperty(e,o,i),i};class i{constructor(){this.disabled=!1,this.display="all",this.translations={}}}l([o.dynamicDefault(function(){return(n.parseJSONFromFontFamily("oj-button-option-defaults")||{}).chroming||"solid"})],i.prototype,"chroming",void 0),t.Button2=s=class extends o.VComponent{constructor(t){super(t),this._setDefaultSlotRef=(t=>{this._defaultSlotRef=t}),this.state={}}render(){var t,e;const n=this.props,s=n.children,l=this._processIcon(null===(t=n.startIcon)||void 0===t?void 0:t.call(n),"oj-button-icon oj-start"),i=this._processIcon(null===(e=n.endIcon)||void 0===e?void 0:e.call(n),"oj-button-icon oj-end");let a=null,u=null,r=null,h=null,d=null;const c=n.label||s;c&&(r=n.title||n.label||this.state.derivedTitle,"icons"===n.display&&(l||i)?n.label?a=n.label:(u=this.uniqueId()+"|text",h=o.h("span",{class:"oj-button-text oj-helper-hidden-accessible",id:u},c)):(r=n.title,u=this.uniqueId()+"|text",h=o.h("span",{class:"oj-button-text",id:u},c))),h=o.h("span",{ref:this._setDefaultSlotRef},h);const p=o.h("div",{class:"oj-button-label"},l,h,i);let b;n.disabled?b=o.h("button",{class:"oj-button-button","aria-labelledby":u,"aria-label":a,disabled:!0},p):(d=this._handleClick,b=o.h("button",{class:"oj-button-button","aria-labelledby":u,"aria-label":a,onTouchstart:this._handleTouchstart,onTouchend:this._handleTouchend,onTouchcancel:this._handleTouchend,onMouseenter:this._handleMouseenter,onMouseleave:this._handleMouseleave,onMousedown:this._handleMousedown,onMouseup:this._handleMouseup,onKeydown:this._handleKeydown,onKeyup:this._handleKeyup,onFocusin:this._handleFocusin,onFocusout:this._handleFocusout},p));const _=this._getRootClasses(l,i);return o.h("oj-button2",{class:_,title:r,onClick:d},b)}_processIcon(t,e){let n;return Array.isArray(t)?n=t.map(t=>this._processIcon(t,e)):t&&(n=o.h("span",{class:e},t)),n}_getRootClasses(t,o){let n=!0,l="oj-button "+s._chromingMap[this.props.chroming];return l+=" "+this._getDisplayOptionClass(t,o),this.props.disabled?(n=!1,l+=" oj-disabled"):(l+=" oj-enabled",this.state.hover&&(n=!1,l+=" oj-hover"),this.state.active&&(n=!1,l+=" oj-active"),this.state.focus&&(n&&(l+=" oj-focus-only"),n=!1,l+=" oj-focus",e.recentPointer()||(l+=" oj-focus-highlight"))),n&&(l+=" oj-default"),l}_getDisplayOptionClass(t,e){const o=t&&e,n=t||e,s="icons"===this.props.display;let l;return l=n?s?o?"oj-button-icons-only":"oj-button-icon-only":o?"oj-button-text-icons":t?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only"}_addMutationObserver(){if(this._mutationObserver)return;this._mutationObserver=new MutationObserver(()=>{const t=this._getTextContent();t!=this.state.derivedTitle&&this.updateState({derivedTitle:t})}),this._mutationObserver.observe(this._defaultSlotRef,{subtree:!0,characterData:!0})}mounted(){if("icons"===this.props.display&&!this.props.label&&!this.props.title){let t=this._getTextContent();this.updateState({derivedTitle:t}),this._addMutationObserver()}}_getTextContent(){let t=this._defaultSlotRef.textContent;return""!==(t=t.trim())?t:null}unmounted(){this._mutationObserver&&this._mutationObserver.disconnect()}_handleTouchstart(t){this.updateState({active:!0})}_handleTouchend(t){this.updateState({active:!1})}_handleMouseenter(t){e.recentTouchEnd()||(this===s._lastActive&&this.updateState({active:!0}),this.updateState({hover:!0}))}_handleMouseleave(t){this.updateState({hover:!1,active:!1})}_handleMousedown(t){if(1===t.which&&!e.recentTouchEnd()){this.updateState({active:!0}),s._lastActive=this;const t=()=>{s._lastActive=null,document.removeEventListener("mouseup",t,!0)};document.addEventListener("mouseup",t,!0)}}_handleMouseup(t){this.updateState({active:!1})}_handleClick(t){var e,o;t.detail<=1&&(null===(o=(e=this.props).onOjAction)||void 0===o||o.call(e,{originalEvent:t}))}_handleKeydown(t){32!==t.keyCode&&13!==t.keyCode||this.updateState({active:!0})}_handleKeyup(t){this.updateState({active:!1})}_handleFocusin(t){this.updateState({focus:!0})}_handleFocusout(t){this.updateState({focus:!1})}refresh(){this.render()}},t.Button2._chromingMap={solid:"oj-button-full-chrome",outlined:"oj-button-outlined-chrome",borderless:"oj-button-half-chrome",full:"oj-button-full-chrome",half:"oj-button-half-chrome",callToAction:"oj-button-cta-chrome"},t.Button2.metadata={extension:{_DEFAULTS:i,_ROOT_PROPS_MAP:{title:!0}},slots:{"":{},startIcon:{},endIcon:{}},properties:{disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},label:{type:"string"},translations:{type:"object|null",value:{}},chroming:{type:"string",enumValues:["borderless","callToAction","full","half","outlined","solid"]}},events:{ojAction:{bubbles:!0}}},l([o.listener({passive:!0})],t.Button2.prototype,"_handleTouchstart",null),l([o.listener()],t.Button2.prototype,"_handleTouchend",null),l([o.listener()],t.Button2.prototype,"_handleMouseenter",null),l([o.listener()],t.Button2.prototype,"_handleMouseleave",null),l([o.listener()],t.Button2.prototype,"_handleMousedown",null),l([o.listener()],t.Button2.prototype,"_handleMouseup",null),l([o.listener()],t.Button2.prototype,"_handleClick",null),l([o.listener()],t.Button2.prototype,"_handleKeydown",null),l([o.listener()],t.Button2.prototype,"_handleKeyup",null),l([o.listener()],t.Button2.prototype,"_handleFocusin",null),l([o.listener()],t.Button2.prototype,"_handleFocusout",null),t.Button2=s=l([o.customElement("oj-button2")],t.Button2),Object.defineProperty(t,"__esModule",{value:!0})});