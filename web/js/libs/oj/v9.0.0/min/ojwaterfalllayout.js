define(["exports","ojs/ojcore-base","ojs/ojdatacollection-common","ojs/ojanimation","ojs/ojthemeutils","ojs/ojvcomponent","ojs/ojcontext","ojs/ojlogger","ojs/ojvcollection"],function(t,e,s,i,o,n,l,a,r){"use strict";
/**
     * @license
     * Copyright (c) 2014, 2020, Oracle and/or its affiliates.
     * The Universal Permissive License (UPL), Version 1.0
     * as shown at https://oss.oracle.com/licenses/upl/
     * @ignore
     */class h{constructor(t,e,s,i){this.fullWidth=t,this.gutterWidth=e,this.itemWidth=s,this.cache=i,this.columns=0,this.margin=0,this.columnsInfo=[],this.bottom=0,this.keys=[],null==this.cache&&(this.cache=new Map)}_initializeColumnsInfo(){this.columns=Math.max(1,Math.floor(this.fullWidth/(this.itemWidth+this.gutterWidth))),this.margin=Math.max(this.gutterWidth,(this.fullWidth-this.columns*(this.itemWidth+this.gutterWidth))/2),this.columnsInfo.length=this.columns;for(let t=0;t<this.columns;t++)this.columnsInfo[t]=0}_populatePositions(t,e,s,i,o,n){for(let l=0;l<t.length;l++){let a=s(t[l]);if(null==a)continue;const r=l+e,h=r%this.columnsInfo.length;let c=void 0;const u=this.cache.get(a);if(u&&!isNaN(u.height)){if(c=u.height,!1!==u.valid&&!isNaN(u.top)&&!isNaN(u.left)){i(r,a,h,u);continue}}else c=o(t[l]);if(isNaN(c))return;let d,m=this.margin;if(r<this.columnsInfo.length)m+=h*(this.itemWidth+this.gutterWidth),d={top:this.gutterWidth,left:m,height:c,valid:!0},this.columnsInfo[h]=c+2*this.gutterWidth,this.bottom=Math.max(this.bottom,c);else{const t=this.columnsInfo.reduce(function(t,e){return Math.min(t,e)}),e=this.columnsInfo.indexOf(t);d={top:t,left:m+=e*(this.itemWidth+this.gutterWidth),height:c,valid:!0},this.columnsInfo[e]=this.columnsInfo[e]+c+this.gutterWidth,this.bottom=Math.max(this.bottom,t+c)}d&&(-1===this.keys.indexOf(a)&&this.keys.push(a),this.cache.set(a,d),n&&n(a,d))}}setWidth(t){this.fullWidth=t,this.columnsInfo.length>0&&(this._initializeColumnsInfo(),this._invalidatePositions(0))}getPositionForItems(t,e){let s=new Map;isNaN(this.itemWidth)&&t.length>0&&(this.itemWidth=t[0].element.offsetWidth),0===this.columnsInfo.length&&this._initializeColumnsInfo(),this._populatePositions(t,e,t=>t.key,(t,e,i,o)=>{s.set(e,o)},t=>t.element.offsetHeight,(t,e)=>{s.set(t,e)});let i=0,o=new Set,n=Array.from(s.values());for(let t=0;t<n.length;t++){let e=n[t].left;if(o.has(e)||o.add(e),i=Math.max(i,n[t].top),o.size===this.columnsInfo.length)break}o.clear();let l=Number.MAX_VALUE;for(let t=n.length-1;t>=0;t--){let e=n[t].left;if(o.has(e)||o.add(e),l=Math.min(l,n[t].top+n[t].height),o.size===this.columnsInfo.length)break}return{start:i,end:l,positions:s}}getItemWidth(){return this.itemWidth}getPositions(){return this.cache}getPosition(t){return this.cache.get(t)}getLastItemPosition(){return this.bottom}getColumnsInfo(){return this.columnsInfo.map((t,e)=>({top:t,left:this.margin+e*(this.itemWidth+this.gutterWidth)}))}insert(t,e){let s=Number.MAX_VALUE;t.forEach((t,i)=>{const o=this.keys.indexOf(t),n=e[i];o>-1&&(s=Math.min(s,o),this.keys.splice(o,0,n),this.cache.set(n,{top:void 0,left:void 0,height:void 0,valid:!1}))}),this._invalidatePositions(s)}remove(t){let e=Number.MAX_VALUE;t.forEach(t=>{this.cache.delete(t);const s=this.keys.indexOf(t);s>-1&&(e=Math.min(e,s),this.keys.splice(s,1))}),this._invalidatePositions(e)}update(t){t.forEach(t=>{let e=this.getPosition(t);e&&(e.height=void 0)})}_invalidatePositions(t){for(let e=t;e<this.keys.length;e++){let t=this.cache.get(this.keys[e]);null!=t&&(t.valid=!1)}for(let t=0;t<this.columns;t++)this.columnsInfo[t]=0;this.recalculatePositions()}recalculatePositions(){this._populatePositions(this.keys,0,t=>t,(t,e,s,i)=>{const o=i.height;if(t<this.columnsInfo.length)this.columnsInfo[s]=o+2*this.gutterWidth,this.bottom=Math.max(this.bottom,o);else{const t=this.columnsInfo.reduce(function(t,e){return Math.min(t,e)}),e=this.columnsInfo.indexOf(t);this.columnsInfo[e]=this.columnsInfo[e]+o+this.gutterWidth,this.bottom=Math.max(this.bottom,t+o)}},t=>{})}}class c extends r.IteratingDataProviderContentHandler{constructor(t,e,s,i,o,n){super(t,e,s,i),this.root=t,this.dataProvider=e,this.callback=s,this.scrollPolicyOptions=i,this.itemDimension=o,this.gutterWidth=n,this.postRender=(()=>{const t=this.root.lastElementChild.firstElementChild;if(t&&null==this.adjustPositionsResolveFunc){this.adjustPositionsResolveFunc=this._addComponentBusyState("adjusting item positions"),l.getContext(t).getBusyContext().whenReady().then(()=>{if(this.adjustPositionsResolveFunc&&(this.adjustPositionsResolveFunc(),this.adjustPositionsResolveFunc=null),this.callback){const t=this._handleOutOfRangeItems(),e=this._adjustAllItems(t);if(e.done){if(this.domScroller&&!this.domScroller.checkViewport())return;this.callback.renderComplete(e.items)}}})}}),this.newItemsTracker=new Set,this.vnodesCache=new Map}getLayout(){if(null==this.layout){let t;this.itemDimension&&(t=this.itemDimension.width),this.layout=new h(this.root.clientWidth,this.gutterWidth,t,new Map)}return this.layout}_handleOutOfRangeItems(){let t=!1;const e=this.getLayout();return this.root.querySelectorAll(".oj-waterfalllayout-position-only").forEach(s=>{const i=this.getKey(s);let o=e.getPosition(i);o&&(o.height=s.offsetHeight,t=!0)}),t&&e.recalculatePositions(),t}_adjustAllItems(t){let e=!0;const s=Array.from(this.root.querySelectorAll(".oj-waterfalllayout-item")).map(t=>("false"===t.getAttribute("data-oj-positioned")&&(e=!1),{key:this.getKey(t),element:t}));if(e&&!t)return{done:!0,items:s};const i=this.callback.getData().startIndex,o=this.getLayout().getPositionForItems(s,isNaN(i)?0:i);return this.callback.setPositions(o.positions),this.domScroller&&this.domScroller.setViewportRange(o.start,o.end),{done:!1,items:s}}handleResizeWidth(t){this.initialFetch=!1,this.getLayout().setWidth(t),this.newItemsTracker.clear()}_addComponentBusyState(t){return l.getContext(this.root).getBusyContext().addBusyState({description:t})}handleBeforeFetchNext(t){let e=this.callback.getPositions();if(null==e)return-1;let s=this.callback.getData().startIndex;isNaN(s)&&(s=0);let i=e.values(),o=i.next();for(;!o.done;){if(o.value.top+o.value.height>t)break;o=i.next(),s++}return s}_isRenderingViewportOnly(){return!1}handleBeforeFetchByOffset(t,e){if(!this._isRenderingViewportOnly())return;let s=this.getLayout().getPositions(),i=Array.from(s.values()).slice(t,e);i.length>0&&this.callback.setSkeletonPositions({startIndex:t,endIndex:e,positions:i})}handleFetchSuccess(t){null!=t&&this.newItemsTracker.clear(),this.initialFetch=!1,super.handleFetchSuccess(t)}renderFetchedData(){const t=this.callback.getSkeletonPositions();if(null==t||isNaN(t.startIndex)||isNaN(t.endIndex))return super.renderFetchedData();{const e=t.startIndex,s=t.endIndex;let i=t.positions;const o=this.callback.getData(),n=isNaN(o.startIndex)?0:o.startIndex,l=n+o.value.data.length;if(l<e||n>s)return this._log("no data within range, rendering all items as skeletons"),this.callback.renderSkeletons(i);{let t=o.value.data.slice(0),a=o.value.metadata.slice(0);n>=e?i=i.slice(0,n-e):(t=t.slice(e-n),a=a.slice(e-n),this._log("rendering data from: "+e+" to "+(e+t.length))),l>=s&&(t=t.slice(0,s-l),a=a.slice(0,s-l),this._log("rendering data from: "+n+" to "+(n+t.length)));let r=this.callback.renderSkeletons(i);return this.renderData(t,a).concat(r)}}}addItem(t,e,s,i){let o=-1,n=-1;const l=this.getLayout().getPosition(t);null!=l?isNaN(l.left)||isNaN(l.top)||(o=l.left,n=l.top):this.newItemsTracker.add(t);const a=this.isInitialFetch();null==this.callback.getCurrentItem()&&a&&0==e&&this.callback.setCurrentItem(t);const r=this.renderItem(t,e,s);return this.decorateItem(r,t,e,o,n,a,i),r}renderItem(t,e,s){const i=this.vnodesCache.get(t);if(i){if(i.index===e)return i.vnodes;this.vnodesCache.clear()}const o=this.callback.getItemRenderer()({data:s,index:e,key:t});return this.vnodesCache.set(t,{index:e,vnodes:o}),o}decorateItem(t,e,s,i,o,n,l){let a;for(let e=0;e<t.length;e++){const s=t[e]._node;if(1===s.nodeType){a=s;break}}if(null!=a&&!a.classList.contains("oj-waterfalllayout-exit-animation")){a.key=e,a.setAttribute("key",JSON.stringify(e)),a.setAttribute("role","gridcell"),a.setAttribute("tabIndex","-1"),a.setAttribute("data-oj-positioned",-1!=i&&-1!=o?"true":"false"),this.getItemStyleClass(l,i,o,this.newItemsTracker.has(e),n).forEach(t=>{a.classList.add(t)});const t=this.getItemInlineStyle(l,i,o,s,n);Object.keys(t).forEach(e=>{a.style[e]=t[e]})}}getItemInlineStyle(t,e,s,i,o){let n={};return-1===e||-1===s?(n.top=0,n.left=0):(n.left=e+"px",n.top=s+"px"),t&&-1!=e&&-1!=s&&(o?(n.opacity=0,isNaN(i)||(n.animationDelay=50*i+"ms")):n.visibility="visible"),n}getItemStyleClass(t,e,s,i,o){let n=[];return t?(n.push("oj-waterfalllayout-item"),-1!=e&&-1!=s&&(o?n.push("oj-waterfalllayout-entrance-animation"):i&&n.push("oj-waterfalllayout-item-fadein-animation"))):n.push("oj-waterfalllayout-position-only"),n}renderSkeletonsForLoadMore(){const t=this.getLayout(),e=t.getColumnsInfo(),s=t.getItemWidth();let i=[];const o=Math.max(...e.map(t=>t.top));if(o>0){const t=o+100;let n=e.map(e=>({left:e.left,top:e.top,height:t-e.top,width:s}));i=this.callback.renderSkeletons(n)}return i}handleItemsAdded(t){const e=t.addBeforeKeys;if(null!=e){const s=Array.from(t.keys);this.getLayout().insert(e,s)}super.handleItemsAdded(t)}handleItemsRemoved(t){const e=Array.from(t.keys);this.getLayout().remove(e),super.handleItemsRemoved(t)}handleCurrentRangeItemUpdated(t){let e=this.getLayout().getPosition(t);e&&(e.top=void 0,e.left=void 0),super.handleCurrentRangeItemUpdated(t)}handleItemsUpdated(t){var e=Array.from(t.keys);this.getLayout().update(e),super.handleItemsUpdated(t)}_log(t){a.info("[WaterfallLayoutContentHandler]=> "+t)}}var u,d=function(t,e,s,i){var o,n=arguments.length,l=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(l=(n<3?o(l):n>3?o(e,s,l):o(e,s))||l);return n>3&&l&&Object.defineProperty(e,s,l),l};t.WaterfallLayout=u=class extends n.VComponent{constructor(t){super(t),this.restoreFocus=!1,this.actionableMode=!1,this.ticking=!1,this.setRootElement=(t=>{this.root=t}),this.state={renderedData:null,outOfRangeData:null,positions:null,skeletonPositions:null,width:0,height:0}}_handleFocusIn(t){this.currentItem&&this.currentItem.classList.add("oj-focus")}_handleFocusOut(t){this.currentItem&&(this.currentItem.classList.remove("oj-focus"),this.currentItem.classList.remove("oj-waterfalllayout-item-suppress-focus"))}_handleClick(t){this._handleTouchOrClickEvent(t)}_handlePointerDown(t){let e=t.target.closest("."+this.getItemStyleClass());null!=e&&e.classList.add("oj-waterfalllayout-item-suppress-focus")}_handleKeyDown(t){if(this.currentItem){let e;switch(t.key){case"ArrowLeft":case"Left":e=this.currentItem.previousElementSibling;break;case"ArrowRight":case"Right":e=this.currentItem.nextElementSibling;break;case"F2":!1===this.actionableMode&&this._enterActionableMode();break;case"Escape":case"Esc":!0===this.actionableMode&&this._exitActionableMode();break;case"Tab":!0===this.actionableMode&&this.currentItem&&(t.shiftKey?s.handleActionablePrevTab(t,this.currentItem):s.handleActionableTab(t,this.currentItem))}!1===this.actionableMode&&null!=e&&e.classList.contains(this.getItemStyleClass())&&(this.currentItem.classList.remove("oj-waterfalllayout-item-suppress-focus"),this._updateCurrentItem(e))}}_touchStartHandler(t){this._handleTouchOrClickEvent(t)}render(){let t;if(null==this.contentHandler)t=this._renderInitialSkeletons(null);else{const e=this.getData(),s=this.state.skeletonPositions;e?null!=s&&this.contentHandler.isInitialFetch()?t=this._renderInitialSkeletons(s.positions):(t=this.contentHandler.render(),this.currentItem&&this.currentItem.contains(document.activeElement)&&(this.restoreFocus=!0)):null!=s&&(t=this._renderInitialSkeletons(s.positions))}return n.h("oj-waterfall-layout",{ref:this.setRootElement},n.h("div",{onClick:this._handleClick,onKeydown:this._handleKeyDown,onTouchstart:this._touchStartHandler,onFocusin:this._handleFocusIn,onFocusout:this._handleFocusOut,onPointerdown:this._handlePointerDown,role:"grid"},n.h("div",{role:"row","data-oj-context":!0},t)))}mounted(){const t=this.getRootElement();this.contentHandler=new c(t,this.props.data,this,this.props.scrollPolicyOptions,null,u.gutterWidth),this.contentHandler.fetchRows();const e=t.clientWidth,s=t.clientHeight;this.updateState({width:e,height:s});let i=t.querySelector(".oj-waterfalllayout-skeleton");if(i&&(this.skeletonWidth=i.clientWidth,this._delayShowSkeletons()),window.ResizeObserver){const e=new window.ResizeObserver(e=>{e.forEach(e=>{if(e.target===t&&e.contentRect){const t=this.state.width,s=Math.round(e.contentRect.width);Math.abs(s-t)>1&&(this.contentHandler.handleResizeWidth(s),this.updateState({width:s}));const i=this.state.height,o=Math.round(e.contentRect.height);Math.abs(o-i)>1&&this.updateState({height:o})}})});e.observe(t),this.resizeObserver=e,this._getScroller().addEventListener("scroll",this.scrollListener)}}updated(t,e){if(null!=this.getData()){const s=this.getRootElement();if(null==e.renderedData){const t=this._findSkeletons();t.length>0?this._applySkeletonExitAnimation(t).then(()=>{this.updateState({skeletonPositions:null})}):(this.updateState({skeletonPositions:null}),this.contentHandler.postRender())}else this.props.data!=t.data?this._applyExitAnimation().then(()=>{this.updateState({renderedData:null}),this.contentHandler&&this.contentHandler.destroy(),this.contentHandler=new c(s,this.props.data,this,this.props.scrollPolicyOptions,null,u.gutterWidth),this.contentHandler.fetchRows(),this._delayShowSkeletons()}):this.contentHandler.postRender();this.props.scrollPosition!=t.scrollPosition&&this._syncScrollTopWithProps()}}unmounted(){this.contentHandler&&this.contentHandler.destroy(),this.contentHandler=null,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null,this.scrollListener&&null!=this._getScroller()&&this._getScroller().removeEventListener("scroll",this.scrollListener)}_delayShowSkeletons(){window.setTimeout(()=>{if(null==this.getData()){const t=this._getPositionsForSkeletons(50,this.state.width,this.skeletonWidth);this.updateState({skeletonPositions:t})}},this._getShowSkeletonsDelay())}_getOptionDefaults(){return null==this.defaultOptions&&(this.defaultOptions=o.parseJSONFromFontFamily("oj-waterfalllayout-option-defaults")),this.defaultOptions}_getShowSkeletonsDelay(){const t=this._getOptionDefaults();if(null==t)return 0;const e=parseInt(t.showIndicatorDelay,10);return isNaN(e)?0:e}_addBusyState(t){const e=this.getRootElement();return l.getContext(e).getBusyContext().addBusyState({description:t})}_findSkeletons(){const t=this.getRootElement().querySelectorAll(".oj-waterfalllayout-skeleton");return t.length>1?t:[]}getRootElement(){return this.root}isAvailable(){return null!=this.contentHandler}getCurrentItem(){return this.currentKey}setCurrentItem(t){this.currentKey=t}getData(){return this.state.renderedData}setData(t){this.updateState({renderedData:t});const e=this._findSkeletons();null!=t&&0!==e.length||this.updateState({skeletonPositions:null})}updateData(t){this.updateState(function(e){let s=e.renderedData;return t(s)}.bind(this))}getOutOfRangeData(){return this.state.outOfRangeData}setOutOfRangeData(t){this.updateState({outOfRangeData:t})}getSkeletonPositions(){return this.state.skeletonPositions}setSkeletonPositions(t){this.updateState({skeletonPositions:t})}getPositions(){return this.state.positions}setPositions(t){this.updateState({positions:t,outOfRangeData:null})}getItemRenderer(){return this.props.itemTemplate}getItemStyleClass(){return"oj-waterfalllayout-item"}getItemElementStyleClass(){return"oj-waterfalllayout-item-element"}getExpanded(){}_applySkeletonExitAnimation(t){const e=this._addBusyState("apply skeleton exit animations");return new Promise((s,o)=>{let n;t.forEach(t=>{n=i.fadeOut(t)}),n&&n.then(()=>{e(),s(!0)})})}_applyExitAnimation(){const t=this._addBusyState("apply exit animations on existing items");return new Promise((e,s)=>{const i=this.getRootElement(),o=i.querySelectorAll("."+this.getItemStyleClass());if(0===o.length)t(),e(!0);else{const s=n=>{i.removeEventListener("animationend",s),o.forEach(t=>{t.classList.remove("oj-waterfalllayout-exit-animation")}),t(),e(!0)};i.addEventListener("animationend",s),o.forEach(t=>{t.style.animationDelay="0ms",t.classList.remove("oj-waterfalllayout-item-fadein-animation"),t.classList.remove("oj-waterfalllayout-entrance-animation"),t.classList.add("oj-waterfalllayout-exit-animation")})}})}scrollListener(t){this.ticking||(window.requestAnimationFrame(()=>{this._updateScrollPosition(),this.ticking=!1}),this.ticking=!0)}_updateScrollPosition(){const t=this._getScroller().scrollTop,e=this.contentHandler.getLayout().getPositions().entries();let s,i=e.next(),o=0;for(;!i.done;){let n=i.value;i=e.next();let l=n[1].top;if(l>t){void 0===s&&(s=n[0]);break}l>o&&(s=n[0],o=l)}const n={y:t,key:s,offsetY:Math.abs(t-o)};this._updateProperty("scrollPosition",n)}_syncScrollTopWithProps(){let t,e=this.props.scrollPosition;const s=e.key;if(s){const i=this.contentHandler.getLayout().getPosition(s);if(null==i)return;t=i.top;const o=e.offsetY;isNaN(o)||(t+=o)}else{const s=e.y;if(isNaN(s))return;t=s}t>this._getScroller().scrollHeight||(this._getScroller().scrollTop=t)}_handleTouchOrClickEvent(t){let e=t.target.closest("."+this.getItemStyleClass());this._updateCurrentItem(e)}_resetFocus(t){t.classList.remove("oj-focus"),t.tabIndex=-1}_setFocus(t,e){t.tabIndex=0,e&&(t.classList.add("oj-focus"),t.focus())}_updateCurrentItem(t){let e=this.currentItem;this._resetFocus(e),this.currentItem=t;const s=t;this.currentKey=s.key,this._setFocus(s,!0),this._scrollToVisible(s)}_scrollToVisible(t){const e=t.offsetTop,s=t.offsetHeight,i=this._getScroller(),o=i.scrollTop,n=i.offsetHeight;if(e>=o&&e+s<=o+n)return;const l=Math.max(0,Math.min(e,Math.abs(e+s-n)));i.scrollTop=l}_getScroller(){const t=this.props.scrollPolicyOptions.scroller;return null!=t?t:this.getRootElement()}_renderInitialSkeletons(t){const e=this._getScroller();if(null!=e&&(e.scrollTop=0),null==t)return this._renderSkeleton(null);{const e=t.size;let s=[];for(let i=0;i<e;i++){let e=t.get(i);s.push(this._renderSkeleton(e))}return n.h("div",{role:"row"},s)}}_getPositionsForSkeletons(t,e,s){let i=[],o=new Map;for(let e=0;e<t;e++){const t=150+e%3*100;o.set(e,{height:t}),i.push({key:e})}return new h(e,u.gutterWidth,s,o).getPositionForItems(i,0)}_isInViewport(t){let e=parseInt(t.style.top,10),s=this._getScroller().scrollTop;return e>=s&&e<=s+this.state.height}_restoreCurrentItem(t){if(null!=this.currentKey)for(let s=0;s<t.length;s++)if(e.KeyUtils.equals(t[s].key,this.currentKey)){const e=t[s].element;this.restoreFocus&&this._isInViewport(e)?this._updateCurrentItem(e):(this._setFocus(e,!1),this.currentItem=e);break}this.restoreFocus=!1}_disableAllTabbableElements(t){t.forEach(t=>{s.disableAllFocusableElements(t.element,!0)})}_enterActionableMode(){if(this.actionableMode=!0,this.currentItem){const t=s.enableAllFocusableElements(this.currentItem,!0);t&&t.length>0&&t[0].focus()}}_exitActionableMode(){this.actionableMode=!1,this.currentItem&&(s.disableAllFocusableElements(this.currentItem,!0),this._setFocus(this.currentItem,!0))}renderComplete(t){this.actionableMode=!1,this._disableAllTabbableElements(t),this._restoreCurrentItem(t)}renderSkeletons(t){let e=[];return t.forEach(t=>{e.push(this._renderSkeleton(t))}),e}renderSkeletonsForLoadMore(t,e){let s=[];const i=Math.max(...t.map(t=>t.top));if(i>0){const o=i+100;t.forEach(t=>{let i={left:t.left,top:t.top,height:o-t.top,width:e};s.push(this._renderSkeleton(i))})}return s}_renderSkeleton(t){let e;return null==t?e={visibility:"hidden"}:(e={top:t.top+"px",left:t.left+"px",height:t.height+"px"},isNaN(t.width)||(e.width=t.width+"px")),n.h("div",{class:"oj-waterfalllayout-skeleton",style:e},n.h("div",{class:"oj-waterfalllayout-skeleton-content oj-animation-skeleton"}))}},t.WaterfallLayout.gutterWidth=20,t.WaterfallLayout.metadata={extension:{_DEFAULTS:class{constructor(){this.data=null,this.scrollPolicy="loadMoreOnScroll",this.scrollPolicyOptions={fetchSize:25,maxCount:500,scroller:null},this.scrollPosition={y:0}}}},properties:{data:{type:"object|null",value:null},scrollPolicy:{type:"string",enumValues:["loadAll","loadMoreOnScroll"],value:"loadMoreOnScroll"},scrollPolicyOptions:{type:"object",properties:{fetchSize:{type:"number",value:25},maxCount:{type:"number",value:500},scroller:{type:"Element|null",value:null}}},scrollPosition:{type:"object",properties:{y:{type:"number",value:0},key:{type:"any"},offsetY:{type:"number"}},writeback:!0,readOnly:!1}},slots:{itemTemplate:{}}},d([n.listener()],t.WaterfallLayout.prototype,"_handleFocusIn",null),d([n.listener()],t.WaterfallLayout.prototype,"_handleFocusOut",null),d([n.listener()],t.WaterfallLayout.prototype,"_handleClick",null),d([n.listener()],t.WaterfallLayout.prototype,"_handlePointerDown",null),d([n.listener()],t.WaterfallLayout.prototype,"_handleKeyDown",null),d([n.listener({passive:!0})],t.WaterfallLayout.prototype,"_touchStartHandler",null),d([n.listener()],t.WaterfallLayout.prototype,"scrollListener",null),t.WaterfallLayout=u=d([n.customElement("oj-waterfall-layout")],t.WaterfallLayout),Object.defineProperty(t,"__esModule",{value:!0})});